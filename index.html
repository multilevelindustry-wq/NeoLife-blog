

  /* Hamburger icon */
  .menu-btn {
    display: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #111;
    background: none;
    border: none;
  }

  /* Mobile view */
  @media (max-width: 768px) {
    .menu-btn {
      display: block;
    }

    nav {
      position: fixed;
      top: 0;
      left: -100%;
      width: 50%;
      height: 50vh;
      background: white;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: 0.4s;
    }

    nav.active {
      left: 0;
    }

    /* Close (X) button inside opened menu */
    .close-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 2rem;
      color: #111;
      cursor: pointer;
      background: none;
      border: none;
    }

    /* Hide close button by default */
    .close-btn.hidden {
      display: none;
}

.
        </div> 
        
      
        <aside>
        <div class="card">
          <h3>Your Cart</h3>
          <div class="cart-list" id="cart-list"></div>
          <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="color:var(--muted)">Subtotal</div>
              <div style="font-weight:700;font-size:18px" id="cart-subtotal">$0.00</div>
            </div>
            <div style="display:flex;flex-direction:column;gap:8px">
              <button id="goto-cart" class="btn">Go to cart page</button>
              <button id="checkout-now" class="btn ghost">Checkout (PayPal)</button>
            </div>
          </div>
        </div>
        
      </aside>
    </div>
  </section>
  <!-- Cart Page -->
  <section id="page-cart" class="page hidden">
      <style>
          #page-cart{
              display: none;
          }
      </style>
    <div class="card">
      <h2>Your Cart</h2>
      <div id="cart-full-list" class="cart-list"></div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
        <div>
          <div style="color:var(--muted)">Total</div>
          <div style="font-weight:700;font-size:20px" id="cart-total">$0.00</div>
        </div>
        <div>
          < id="paypal-container"></div>
          <div style="margin-top:8px"><button id="continue-shopping" class="btn ghost">Continue shopping</button></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Login / Signup Page -->
  <section id="page-login" class="page hidden">
    <div class="card" style="max-width:480px;margin:auto">
      <h2 id="auth-title">Sign Up</h2>
      <form id="auth-form">
        <input id="auth-name" type="text" placeholder="Full name (for sign up)">
        <input id="auth-email" type="email" placeholder="Email" required>
        <input id="auth-password" type="password" placeholder="Password" required>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button type="submit" class="btn">Submit</button>
          <button type="button" id="auth-toggle" class="btn ghost">Switch to Login</button>
        </div>
        <div style="margin-top:8px;color:var(--muted)">Demo: passwords stored client-side (localStorage).</div>
      </form>
    </div>
  </section>

  <!-- Dashboard Page -->
  <section id="page-dashboard" class="page hidden">
    <div class="card" style="max-width:700px;margin:auto">
      <h2>Dashboard</h2>
      <div id="dashboard-welcome">Welcome</div>
      <div style="margin-top:12px"><button id="logout-btn" class="btn ghost">Logout</button></div>
    </div>
  </section>
 
 <div class="blog-title">
    <h2> Diagnosis of Heart</h2>
 </div>
 <div class="blog-post">
     <div class="grid">
     <div class="product-ads">
       <img src="IMG-20250927-WA0000.jpg" alt=""></img>
       
       <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/468x60.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
   </div>
   <h1>
     NeoLife is a global company that produces a range of nutritional, cleaning, and personal care products based on nature and backed by scientific research. Products are available for purchase online through their official channels or through independent distributors.<a href="page5">Read More</a></h1></div></div>
     
      <div class="blog-title">
    <h2> Diagnosis of Heart</h2>
 </div>
 
     
 <div class="blog-post">
     <div class="grid">
     <div class="product-ads">
       <img src="IMG-20250927-WA0000.jpg" alt=""></img>
       
       <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/468x60.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
   </div>
   <h1>
Official Website: You can learn more about the company and its scientific advisory board on the main NeoLife website.
Official Shop: Products can be purchased directly from the official NeoLife Shop.
Products: Offerings include items such as Pro Vitality packs, Omega-3 Salmon Oil Plus, Tre-en-en Grain Concentrates, and various herbal complexes. 
The Domain neolifestore.com.<a href="page6.html">Read More</a></h1> </div></div>
     
    <div class="blog-title">
    <h2> Diagnosis of Heart</h2>
	</div>
 <div class="blog-post">
     <div class="grid">
     <div class="product-ads">
       <img src="IMG-20250927-WA0000.jpg" alt=""></img>
       
       <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/468x60.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
   </div>
   <h1>
The specific domain neolifestore.com appears to be an independent online retailer that sells various general goods including clothing, electronics, health products, and groceries, and does not exclusively sell NeoLife branded products.<a href="page7.html">Read More</a> </h1></div></div>

 <div class="blog-title">
    <h2> Diagnosis of Heart</h2>
 </div>
 <div class="blog-post">
     <div class="grid">
     <div class="product-ads">
       <img src="IMG-20250927-WA0000.jpg" alt=""></img>
       
       <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/468x60.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
   </div>
   <h1>
If you are looking for genuine NeoLife nutritional products, it is recommended to use the official NeoLife Shop or an authorized third-party retailer like Millicent Neolife Store on Konga. 
Millicent Neolife Store | Konga Online Shopping.<a href="page8.html">Read More</a></h1></div></div>


  <div>
      <h3>
          Know Your Health Status Today
	  </h3>
</div>

  <div class="blog-title">
    <h2> Diagnosis of Heart</h2>
    
 </div>
 <div class="blog-post">
     <div class="grid">
     <div class="product-ads">
       <img src="IMG-20250927-WA0000.jpg" alt=""></img>
       
       <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/468x60.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
   </div>
   <h1>
Millicent Neolife Store * GNLD Neolife Pro Vitality Provitality - 30 Sachets. ₦78,530₦95,010- 17% Sold by millicent neolife store. Add To Cart. * Neolife Tre-en...

Konga
NeoLife – NeoLifeshop.<a href="page10.html">Read More</a></h1></div></div>
 
   <div class="product-review">
       
       <h1>Join Chat Room</h1>
        <form id="reviewForm">
            
 <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/300x250.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->


        
            <input type="text" id="name" placeholder="Your Name" required>
            <input type="email" id="email" placeholder="Your Email" required>
            <textarea id="review" placeholder="What Do You Think..." required></textarea>
            <div class="rating">
                <label>Rating:</label>
                <select id="rating" required>
                    <option value="1">1 Star</option>
                    <option value="2">2 Stars</option>
                    <option value="3">3 Stars</option>
                    <option value="4">4 Stars</option>
                    <option value="5">5 Stars</option>
                </select>
            </div>
            <button type="submit">Submit Chat</button>
        </form>
        <div id="reviewsContainer">
            <h2>Latest Chat</h2>
            <div id="reviews"></div>
            <a href="review1.html">Previous Chat</a>
        </div>
    </div>
    <br>
 </main>
 
 
 
    
    
        <div id="ad1" class="ad-container">
    <div class="ad-content">
        <h2>Ad 1</h2>
        <button class="exit-button" onclick="closeAd('ad1')">Close</button>
    </div>
</div>

<div id="ad2" class="ad-container">
    <div class="ad-content">
        <h2>Ad 2</h2>
          <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/300x250.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
        <button class="exit-button" onclick="closeAd('ad2')">Close</button>
    </div>
</div>

<div id="ad3" class="ad-container">
    <div class="ad-content">
        <h2>Ad 3</h2>
        <!-- Start of banner code -->
<a href="https://shrinkearn.com/ref/STangel"><img src="https://shrinkearn.com/webroot/modern_theme/img/300x250.gif" title="Shorten URLs and Earn Money" /></a>
<!-- End of banner code -->
        <button class="exit-button" onclick="closeAd('ad3')">Close</button>
    </div>
</div>



<div id="modal-root" class="hidden"></div>


   <div class="productes-row">
        <div class="col-1"><h1>Neo Company</h1></div>
  <div class="col-1"><h1>Return Policy</h1></div>
  <div class="col-1"><h1>Neo Stream</h1></div>
  <div class="col-1"><h1>Affiliate</h1></div>
  <div class="col-1"><h1>Delivery </h1></div>
  <div class="col-1"><h1>Neo Books</h1></div>
  <div class="col-1"><h1>Forum</h1></div>
  <div class="col-1"><h1>Sellers Zone</h1></div>
  </div>
   <div class="copyright">
      Copyright ©️ 2025|NEOSTORE
  </div>
</footer>

<script>
/////////////////////////
// Constants
const CART_KEY = 'neo_cart_v1';
const AUTH_KEY = 'neo_users_v1';
const SESSION_KEY = 'neo_session_v1';
const INACTIVE_MS = 10 * 60 * 1000; // 10 min
const INACT_KEY = 'neo_last_activity_v1';
const DELIVERY_COUNTRY_KEY = "neo_delivery_country_v1";

// Pages
const pages = {
  product: document.getElementById('page-product'),
  cart: document.getElementById('page-cart'),
  login: document.getElementById('page-login'),
  dashboard: document.getElementById('page-dashboard')
};

// Show SPA page
function showPage(name){
  Object.values(pages).forEach(p=>p.classList.add('hidden'));
  pages[name].classList.remove('hidden');
  location.hash = '#'+name;
  if(name==='cart') renderCartFull();
  if(name==='dashboard') renderDashboard();
}

// Init page
window.addEventListener('hashchange', ()=> showPage(location.hash.replace('#','') || 'product'));
if(!location.hash) location.hash = '#product';
showPage(location.hash.replace('#',''));

// Product data
const product = {
  id: 'p1',
  title: document.getElementById('product-title').textContent,
  price: 15.19,
  image: document.getElementById('product-image').src
};
document.getElementById('product-price').textContent = '$'+product.price.toFixed(2);

/////////////////////////
// Cart functions
function getCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderMiniCart(); updateDeliveryTotalDisplay(); }
function addToCart(item){
  const cart = getCart();
  const found = cart.find(i=>i.id===item.id);
  if(found) found.qty += 1; else cart.push({...item, qty:1});
  saveCart(cart);
}
function removeFromCart(id){ let cart=getCart(); cart = cart.filter(i=>i.id!==id); saveCart(cart);}
function updateQty(id, qty){ const cart = getCart(); const it = cart.find(i=>i.id===id); if(!it) return; it.qty = qty; if(it.qty<=0) removeFromCart(id); else saveCart(cart);}
function cartSubtotal(){ return getCart().reduce((s,i)=>s+i.price*i.qty,0); }

// Mini cart render
const cartList = document.getElementById('cart-list');
const cartCount = document.getElementById('cart-count');
function renderMiniCart(){
  const cart = getCart();
  cartCount.textContent = cart.reduce((s,i)=>s+i.qty,0) || '';
  cartList.innerHTML = '';
  if(cart.length===0){ cartList.innerHTML = '<div style="color:var(--muted)">Cart is empty</div>'; document.getElementById('cart-subtotal').textContent = '$0.00'; return; }
  cart.forEach(i=>{
    const el = document.createElement('div'); el.className='cart-item';
    el.innerHTML = `<img src="${i.image}"><div style='flex:1'><div style="font-weight:600">${i.title}</div><div style="color:var(--muted)">$${i.price.toFixed(2)}</div></div><div style='text-align:right'><div class='qty'>x ${i.qty}</div></div>`;
    cartList.appendChild(el);
  });
  document.getElementById('cart-subtotal').textContent = '$'+cartSubtotal().toFixed(2);
}
renderMiniCart();

// Full cart render
function renderCartFull(){
  const el = document.getElementById('cart-full-list'); el.innerHTML='';
  const cart = getCart();
  if(cart.length===0){ el.innerHTML='<div style="color:var(--muted)">Your cart is empty</div>'; document.getElementById('cart-total').textContent='$0.00'; return; }
  cart.forEach(i=>{
    const row = document.createElement('div'); row.className='cart-item';
    row.innerHTML = `<img src='${i.image}'><div style='flex:1'><div style='font-weight:700'>${i.title}</div><div style='color:var(--muted)'>$${i.price.toFixed(2)}</div></div>
      <div style='display:flex;flex-direction:column;align-items:flex-end'>
        <input type='number' min='0' value='${i.qty}' data-id='${i.id}' class='qty-input' style='width:64px;padding:6px;border-radius:6px;border:1px solid #e5e7eb'>
        <button data-id='${i.id}' class='btn remove-item' style='margin-top:8px'>Remove</button>
      </div>`;
    el.appendChild(row);
  });
  // hooks
  document.querySelectorAll('.remove-item').forEach(b=>b.addEventListener('click',e=>{ removeFromCart(e.target.dataset.id); renderCartFull(); }));
  document.querySelectorAll('.qty-input').forEach(inp=>inp.addEventListener('change',e=>{ const id=e.target.dataset.id; const v=parseInt(e.target.value)||0; updateQty(id,v); renderCartFull(); }));
  updateDeliveryTotalDisplay();
  renderPayPalButton();
}

/////////////////////////
// Buttons
document.getElementById('add-to-cart').addEventListener('click',()=>{ addToCart(product); alert('Added to cart'); });
document.getElementById('goto-cart').addEventListener('click',()=> showPage('cart'));
document.getElementById('continue-shopping').addEventListener('click',()=> showPage('product'));
document.getElementById('buy-now').addEventListener('click',()=>{ addToCart(product); showPage('cart'); });

     /////////////////////////
// Auth functions
function getUsers(){ return JSON.parse(localStorage.getItem(AUTH_KEY)||'{}'); }
function saveUsers(u){ localStorage.setItem(AUTH_KEY, JSON.stringify(u)); }
function signup(name,email,password){ const users = getUsers(); if(users[email]) throw new Error('User exists'); users[email] = {name,email,password}; saveUsers(users); login(email,password);}
function login(email,password){ const users = getUsers(); if(!users[email] || users[email].password !== password) throw new Error('Invalid credentials'); localStorage.setItem(SESSION_KEY, JSON.stringify({email,name:users[email].name,loggedAt:Date.now()})); renderUserUI(); }
function logout(){ localStorage.removeItem(SESSION_KEY); renderUserUI(); showPage('product'); }
function currentUser(){ return JSON.parse(localStorage.getItem(SESSION_KEY)||'null'); }

// Auth form
const authForm = document.getElementById('auth-form');
const authToggle = document.getElementById('auth-toggle');
let authMode = 'signup';
authToggle.addEventListener('click', ()=>{
  authMode = authMode === 'signup' ? 'login' : 'signup';
  document.getElementById('auth-title').textContent = authMode==='signup' ? 'Sign Up' : 'Login';
  document.getElementById('auth-name').style.display = authMode==='signup' ? 'block' : 'none';
  authToggle.textContent = authMode==='signup' ? 'Switch to Login' : 'Switch to Sign Up';
});
authForm.addEventListener('submit', e=>{
  e.preventDefault();
  const name = document.getElementById('auth-name').value.trim();
  const email = document.getElementById('auth-email').value.trim();
  const pw = document.getElementById('auth-password').value;
  try{
    if(authMode==='signup') signup(name,email,pw); else login(email,pw);
    alert('Logged in'); showPage('dashboardy');
  }catch(err){ alert(err.message); }
});

// User area
document.getElementById('user-area').addEventListener('click', ()=>{ if(currentUser()) showPage('dashboard'); else showPage('login'); });
function renderUserUI(){ const u=currentUser(); document.getElementById('user-text-mini').textContent = u ? u.name : 'Shop'; }
renderUserUI();
document.getElementById('logout-btn').addEventListener('click', ()=>{ logout(); });

/////////////////////////
// Auto-logout
function touchActivity(){ localStorage.setItem(INACT_KEY, Date.now()); }
['click','keydown','mousemove','touchstart'].forEach(evt=> window.addEventListener(evt, touchActivity));
function checkInactivity(){
  const last = parseInt(localStorage.getItem(INACT_KEY)||'0'); if(!last){ touchActivity(); return; }
  if(Date.now() - last > INACTIVE_MS){ if(currentUser()){ alert('You have been logged out due to inactivity'); logout(); } }
}
setInterval(checkInactivity,10000);
if(!localStorage.getItem(INACT_KEY)) touchActivity();

//////////////////////////
function renderPayPalButton(){
  const container = document.getElementById('paypal-container');
  container.innerHTML='';
  
  const subtotal = cartSubtotal();
  const country = localStorage.getItem("neo_delivery_country_v1") || "Other";
  const deliveryFee = calculateDeliveryFee(country);
  const total = subtotal + deliveryFee;   // ✅ include delivery fee
  
  if(total <= 0) return;

  const user = currentUser();
  if(!user){
    const b = document.createElement('button');
    b.className = 'btn';
    b.textContent = 'Login to checkout';
    b.addEventListener('click', ()=> showPage('login'));
    container.appendChild(b);
    return;
  }

  paypal.Buttons({
    createOrder: (data, actions) => actions.order.create({
      purchase_units: [{
        amount: {
          value: total.toFixed(2),   // ✅ send subtotal + delivery fee to PayPal
          breakdown: {
            item_total: { value: subtotal.toFixed(2), currency_code: "USD" },
            shipping:   { value: deliveryFee.toFixed(2), currency_code: "USD" }
          }
        },
        description: "NEOSTORE Order (includes delivery)"
      }]
    }),
    onApprove: (data, actions) => actions.order.capture().then(details => {
      alert('Payment completed by ' + (details.payer.name.given_name || 'Customer') + '. Order ID: ' + data.orderID);
      localStorage.removeItem(CART_KEY);
      renderMiniCart();
      showPage('product');
    }),
    onError: err => {
      console.error(err);
      alert('Payment failed: ' + err);
    }
  }).render('#paypal-container');
}


/////////////////////////
// Dashboard
function renderDashboard(){ const u=currentUser(); document.getElementById('dashboard-welcome').textContent = u ? `Hello, ${u.name} (${u.email})` : 'Not logged in'; }

/////////////////////////
// Cart icon click
document.getElementById('cart-btn').addEventListener('click', ()=> showPage('cart'));

/////////////////////////
// Hamburger menu
const menuBtn = document.getElementById('menu-btn');
const closeBtn = document.getElementById('close-btn');
const nav = document.getElementById('nav');
menuBtn.addEventListener('click',()=>{ nav.classList.add('active'); closeBtn.classList.remove('hidden'); });
closeBtn.addEventListener('click',()=>{ nav.classList.remove('active'); closeBtn.classList.add('hidden'); });
document.querySelectorAll('nav a').forEach(link=> link.addEventListener('click',()=>{ nav.classList.remove('active'); closeBtn.classList.add('hidden'); }));
/////////////////////////
// Delivery Fee
function calculateDeliveryFee(country){
  const cart = getCart();
  const itemCount = cart.reduce((s,i)=>s+i.qty,0); if(itemCount===0) return 0;
  const c = (country||'').trim().toLowerCase();
  let feePer2 = 30;
  if(['ghana','nigeria','kenya','south africa','cameroon','tanzania','uganda','zambia','ethiopia','africa'].some(x=>c.includes(x))) feePer2=27;
  else if(['france','germany','italy','spain','uk','england','europe','sweden','netherlands'].some(x=>c.includes(x))) feePer2=18;
  else if(['china','japan','india','thailand','philippines','asia','indonesia','malaysia','vietnam','pakistan'].some(x=>c.includes(x))) feePer2=25;
  else if(['usa','united states','canada','mexico','america','brazil','argentina'].some(x=>c.includes(x))) feePer2=15;
  else if(['turkey','greece','cyprus','mediterranean','israel','lebanon','morocco','tunisia','egypt'].some(x=>c.includes(x))) feePer2=22;
  return feePer2 * Math.ceil(itemCount/2);
}

function getOrAskCountry(){
  let country = localStorage.getItem(DELIVERY_COUNTRY_KEY);
  if(!country){ country = prompt("Enter your country for delivery fee calculation:")||"Other"; localStorage.setItem(DELIVERY_COUNTRY_KEY,country); }
  return country;
}

function updateDeliveryTotalDisplay(){
  const subtotal = cartSubtotal();
  const country = getOrAskCountry();
  const deliveryFee = calculateDeliveryFee(country);
  const total = subtotal + deliveryFee;
  const totalDiv = document.getElementById('cart-total');
  if(totalDiv){
    totalDiv.innerHTML = `$${total.toFixed(2)}<div style="font-size:0.9rem;color:var(--muted)">(Subtotal: $${subtotal.toFixed(2)} + Delivery: $${deliveryFee.toFixed(2)})</div>`;
  }
}

// Hook cart updates for delivery
(function hookCartDeliveryUpdates(){
  const oldSaveCart = saveCart;
  saveCart = function(cart){ oldSaveCart(cart); if(location.hash==='#cart') updateDeliveryTotalDisplay(); };
  const oldRenderCartFull = renderCartFull;
  renderCartFull = function(){ oldRenderCartFull(); if(location.hash==='#cart') updateDeliveryTotalDisplay(); };
})();

// Update delivery display when cart page opens
const originalShowPage = showPage;
showPage = function(name){ originalShowPage(name); if(name==='cart') setTimeout(updateDeliveryTotalDisplay,300); };


/* ---------- LIVE SEARCH PATCH (append to script.js) ----------
   Appends robust live-search behavior without changing HTML/CSS.
   - Safe: uses existing `products` array if available.
   - Robust: finds input elements by multiple common IDs used before.
----------------------------------------------------------------*/

(function(){
  // Use existing products array if defined; otherwise fallback to the sample list.
  const productList = (typeof products !== 'undefined' && Array.isArray(products))
    ? products
    : [
      { name: "Herbal Detox Tea", link: "product.html" },
      { name: "Vitamin C Serum", link: "vitamin.html" },
      { name: "Smart Fitness Watch", link: "product3.html" },
      { name: "Protein Shake Mix", link: "product4.html" },
      { name: "Wireless Earbuds", link: "product5.html" },
      { name: "Aloe Vera Gel", link: "product6.html" },
      { name: "Organic Honey", link: "product7.html" },
      { name: "Bluetooth Speaker", link: "product8.html" },
      { name: "Hair Growth Oil", link: "product9.html" },
      { name: "Multivitamin Capsules", link: "product10.html" },
    ];

  // possible IDs used across your pages (keeps it flexible)
  const desktopInputIds = ['searchInput','search-input','search-input-desktop','search-input-1','searchInputDesktop','search-input-1'];
  const desktopResultsIds = ['searchResults','search-results','search_results','searchResultsList'];
  const mobileInputIds = ['mobileSearchInput','mobile-search-input','mobileSearch','mobileSearchInput1'];
  const mobileResultsIds = ['mobileSearchResults','mobile-search-results','mobileSearchResultsList'];

  function getFirstExisting(idList){
    for(const id of idList){
      const el = document.getElementById(id);
      if(el) return el;
    }
    return null;
  }

  // create UL element if not present (and attach right after input)
  function ensureResultsList(inputEl, preferredIds){
    // try to find sibling UL with one of preferredIds
    for(const id of preferredIds){
      const el = document.getElementById(id);
      if(el && el.tagName && el.tagName.toLowerCase() === 'ul') return el;
    }
    // if not, create one
    const ul = document.createElement('ul');
    ul.className = 'search-results';
    // keep unique id
    const genId = (preferredIds && preferredIds[0]) ? preferredIds[0] : ('sr-' + Math.random().toString(36).slice(2,9));
    ul.id = genId;
    // place after input
    if(inputEl.parentNode){
      inputEl.parentNode.appendChild(ul);
    } else {
      document.body.appendChild(ul);
    }
    // ensure style.display is none initially
    ul.style.display = 'none';
    return ul;
  }

  // render matched products into the results UL
  function renderResults(ul, matches){
    ul.innerHTML = '';
    if(!matches || matches.length === 0){
      const li = document.createElement('li');
      li.textContent = 'No Topics found';
      li.style.color = '#888';
      li.style.cursor = 'default';
      ul.appendChild(li);
      return;
    }
    matches.forEach(p=>{
      const li = document.createElement('li');
      li.textContent = p.name;
      li.style.cursor = 'pointer';
      li.addEventListener('click', ()=>{
        // navigate to link on click
        window.location.href = p.link;
      });
      ul.appendChild(li);
    });
  }

  // generic setup for an input and results UL
  function setupInput(inputEl, resultsUl){
    if(!inputEl || !resultsUl) return;

    inputEl.addEventListener('input', (ev)=>{
      const q = (ev.target.value || '').toLowerCase().trim();
      if(q === ''){
        resultsUl.style.display = 'none';
        resultsUl.innerHTML = '';
        return;
      }
      // filter products: include names that contain all words typed (order insensitive)
      const terms = q.split(/\s+/).filter(Boolean);
      const matches = productList.filter(p=>{
        const lower = p.name.toLowerCase();
        return terms.every(t => lower.includes(t));
      }).slice(0, 20); // limit results
      renderResults(resultsUl, matches);
      resultsUl.style.display = 'block';
    });

    // keyboard support: Enter -> go to first match
    inputEl.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        const firstLi = resultsUl.querySelector('li');
        if(firstLi && firstLi.textContent && productList.length){
          // find product by name exactly or partial match
          const name = firstLi.textContent;
          const p = productList.find(x => x.name === name) || productList.find(x => x.name.toLowerCase().includes((inputEl.value||'').toLowerCase().trim()));
          if(p && p.link){
            window.location.href = p.link;
          }
        }
      }
    });

    // hide when clicking outside
    document.addEventListener('click', (e)=>{
      if(e.target === inputEl) return;
      if(resultsUl.contains(e.target)) return;
      resultsUl.style.display = 'none';
    });
  }

  // Initialize desktop search if present
  const desktopInput = getFirstExisting(desktopInputIds);
  const desktopResults = ensureResultsList(desktopInput, desktopResultsIds);
  if(desktopInput){
    setupInput(desktopInput, desktopResults);
  }

  // Initialize mobile search if present
  const mobileInput = getFirstExisting(mobileInputIds);
  const mobileResults = ensureResultsList(mobileInput, mobileResultsIds);
  if(mobileInput){
    setupInput(mobileInput, mobileResults);
  }

  // If neither input found, attempt to find inputs by common class names
  if(!desktopInput && !mobileInput){
    const possibleInputs = document.querySelectorAll('input[type="search"], input[placeholder*="Search"], input[placeholder*="search"]');
    if(possibleInputs && possibleInputs.length){
      possibleInputs.forEach(inp=>{
        const ul = ensureResultsList(inp, ['searchResultsAuto']);
        setupInput(inp, ul);
      });
    }
  }

  // expose helper for adding new products at runtime (optional)
  window.__NEOSTORE_addProduct = function(prod){
    if(prod && prod.name && prod.link) productList.push(prod);
  };

})(); 
/* ---------- END PATCH ---------- */


/*---- ADS---*/

function showAd(adId) {
        document.getElementById(adId).style.display = 'flex';
    }

    function closeAd(adId) {
        document.getElementById(adId).style.display = 'none';
    }

    window.onload = function() {
        setTimeout(() => showAd('ad1'), 15000);
        setTimeout(() => showAd('ad2'), 35000);
        setTimeout(() => showAd('ad3'), 65000);
    };
    
    
    
    
    
    const reviewForm = document.getElementById('reviewForm');
const reviewsContainer = document.getElementById('reviews');

let reviews = JSON.parse(localStorage.getItem('reviews')) || [];

function displayReviews() {
    reviewsContainer.innerHTML = '';
    const latestReviews = reviews.slice(-100000000).reverse();
    latestReviews.forEach(review => {
        const reviewDiv = document.createElement('div');
        reviewDiv.classList.add('review');
        reviewDiv.innerHTML = `<strong>${review.name}</strong>
                              <p>${review.review}</p>
                              <p>Rating: ${'★'.repeat(review.rating)}</p>`;
        reviewsContainer.appendChild(reviewDiv);
    });
}

reviewForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const reviewText = document.getElementById('review').value;
    const rating = parseInt(document.getElementById('rating').value);

    const newReview = { name, email, review: reviewText, rating };
    reviews.push(newReview);
    localStorage.setItem('reviews', JSON.stringify(reviews));
    displayReviews();
    reviewForm.reset();
});

displayReviews();

    
</script>

<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
</body>
</html>
