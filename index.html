<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Store</title>

<style>

/* ===============================
   YOUR BACKGROUND DESIGN
================================ */
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: url('https://images.unsplash.com/photo-1492724441997-5dc865305da7') no-repeat center center fixed;
  background-size: cover;
  color: white;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  z-index: -1;
}

/* ================= HEADER ================= */
header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:20px 60px;
  backdrop-filter:blur(10px);
  background:rgba(0,0,0,0.4);
  position:sticky;
  top:0;
  z-index:1000;
}

nav a {
  color:#fff;
  margin-left:20px;
  text-decoration:none;
  font-weight:600;
}

nav a:hover { color:#ff9800; }

/* ================= BANNER ================= */
.banner {
  height:300px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  font-weight:bold;
  text-align:center;
  background:linear-gradient(45deg,#ff7300,#ff9800);
  animation:fadeBanner 6s infinite;
}

@keyframes fadeBanner {
  0%{opacity:0.7}
  50%{opacity:1}
  100%{opacity:0.7}
}

/* ================= CATEGORY SLIDER ================= */
.category-wrapper{
  overflow:hidden;
  margin:40px;
}

.category-track{
  display:flex;
  gap:20px;
  animation:scrollLeft 25s linear infinite;
}

.category-card{
  min-width:180px;
  background:white;
  color:#111;
  padding:20px;
  border-radius:15px;
  text-align:center;
  font-weight:bold;
}

@keyframes scrollLeft{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

/* ================= PRODUCT GRID ================= */
.products{
  display:grid;
  gap:25px;
  padding:40px;
}

@media(max-width:767px){
  .products{grid-template-columns:repeat(2,1fr);}
}

@media(min-width:768px){
  .products{grid-template-columns:repeat(3,1fr);}
}

.card{
  background:white;
  color:#111;
  padding:20px;
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,0.4);
  transition:0.3s;
}

.card:hover{
  transform:translateY(-10px);
}

.card img{
  width:100%;
  height:160px;
  object-fit:cover;
  border-radius:10px;
}

button{
  padding:10px;
  border:none;
  background:linear-gradient(45deg,#ff7300,#ff9800);
  color:white;
  border-radius:8px;
  cursor:pointer;
  margin-top:10px;
  font-weight:bold;
}

/* ================= FEATURED ================= */
.featured{
  margin:40px;
  padding:30px;
  background:white;
  color:#111;
  border-radius:20px;
  text-align:center;
}

/* ================= COUNTDOWN ================= */
.countdown{
  text-align:center;
  font-size:22px;
  font-weight:bold;
  margin-top:10px;
  color:#ff9800;
}

/* ================= FLIP ADS ================= */
.flip-container{
  display:grid;
  gap:30px;
  padding:40px;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
}

.card-wrapper{
  perspective:1000px;
}

.card-inner{
  position:relative;
  width:100%;
  height:200px;
  transition:transform 0.8s;
  transform-style:preserve-3d;
}

.card-wrapper:hover .card-inner{
  transform:rotateY(180deg);
}

.card-front,.card-back{
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  border-radius:15px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:bold;
  padding:20px;
}

.card-front{background:white;color:#111;}
.card-back{
  transform:rotateY(180deg);
  background:linear-gradient(45deg,#ff7300,#ff9800);
}

</style>
</head>
<body>

<header>
<h2>Premium Store</h2>
<nav>
<a href="login.html" id="loginLink">Login</a>
<a href="register.html">Register</a>
<a href="cart.html">Cart (<span id="cart-count">0</span>)</a>
</nav>
</header>

<div class="banner" id="bannerText">
Big Sales Are Happening Now ðŸ”¥
</div>

<div class="category-wrapper">
<div class="category-track" id="categoriesTop"></div>
</div>

<div class="countdown" id="countdown"></div>

<div class="products" id="productSection1"></div>

<div class="featured" id="featuredProduct"></div>

<div class="products" id="productSection2"></div>

<div class="flip-container">
<div class="card-wrapper">
<div class="card-inner">
<div class="card-front">Run Facebook Ads</div>
<div class="card-back">Get Quality Leads Daily ðŸš€</div>
</div>
</div>
<div class="card-wrapper">
<div class="card-inner">
<div class="card-front">Build E-commerce Store</div>
<div class="card-back">Start Selling Online ðŸ’°</div>
</div>
</div>
</div>

<div class="category-wrapper">
<div class="category-track" id="categoriesBottom"></div>
</div>
<script>

/* ===============================
   SAFE SERVICES CHECK
================================ */
if(typeof services === "undefined"){
  var services = [];
}

/* ===============================
   CART COUNT (GLOBAL)
================================ */
function updateCartCount(){
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  document.getElementById("cart-count").innerText =
    cart.reduce((sum,item)=> sum + (item.quantity || 1),0);
}
updateCartCount();

/* ===============================
   LOGIN DISPLAY SYSTEM
================================ */
const loginLink = document.getElementById("loginLink");
const nav = loginLink.parentElement;

let currentUser = JSON.parse(localStorage.getItem("currentUser"));

if(currentUser){
  loginLink.innerText = currentUser.name;
  loginLink.href = "#";
}else{
  loginLink.innerText = "Login";
}

/* ===============================
   CATEGORY WITH LINKS
================================ */
const categories = [
 {name:"E-commerce", link:"category.html?cat=ecommerce"},
 {name:"Business", link:"category.html?cat=business"},
 {name:"Blog", link:"category.html?cat=blog"},
 {name:"Leads", link:"category.html?cat=leads"},
 {name:"SEO", link:"category.html?cat=seo"},
 {name:"Graphics", link:"category.html?cat=graphics"},
 {name:"Ads", link:"category.html?cat=ads"},
];

function renderCategories(id){
  const container = document.getElementById(id);
  container.innerHTML = "";
  [...categories,...categories].forEach(cat=>{
    container.innerHTML += `
      <a href="${cat.link}" style="text-decoration:none;">
        <div class="category-card">${cat.name}</div>
      </a>
    `;
  });
}

renderCategories("categoriesTop");
renderCategories("categoriesBottom");

/* ===============================
   ADD TO CART (INSTANT)
================================ */
function addToCart(id){
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  let product = services.find(p => p.id === id);
  if(!product) return;

  let existing = cart.find(i => i.id === id);
  if(existing){
    existing.quantity += 1;
  }else{
    cart.push({...product, quantity:1});
  }

  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCount();
}

/* ===============================
   PRODUCT RENDER FIX
================================ */
function renderProducts(section,start,end){
  const container = document.getElementById(section);
  container.innerHTML = "";

  if(!services.length){
    container.innerHTML = "<p>No products available</p>";
    return;
  }

  services.slice(start,end).forEach(p=>{
    container.innerHTML += `
      <div class="card">
        <h3>${p.title}</h3>
        <p>${p.description}</p>
        <strong>$${p.price}</strong>
        <button onclick="addToCart(${p.id})">
          Add To Cart
        </button>
      </div>
    `;
  });
}

renderProducts("productSection1",0,6);
renderProducts("productSection2",6,12);

/* ===============================
   BEAUTIFUL 7 SLIDE BANNER
================================ */
const bannerProducts = services.slice(0,7);
let bannerIndex = 0;

function rotateBanner(){
  if(!bannerProducts.length) return;

  const p = bannerProducts[bannerIndex];

  document.getElementById("bannerText").innerHTML = `
    <div>
      <h2>${p.title}</h2>
      <p>${p.description}</p>
      <h3>$${p.price}</h3>
      <button onclick="window.location='all-products.html'">
        Check Now
      </button>
    </div>
  `;

  bannerIndex = (bannerIndex + 1) % bannerProducts.length;
}

rotateBanner();
setInterval(rotateBanner,4000);

/* ===============================
   FEATURED ROTATOR
================================ */
let featuredIndex = 0;
function rotateFeatured(){
  if(!services.length) return;

  let p = services[featuredIndex];

  document.getElementById("featuredProduct").innerHTML = `
    <h2>${p.title}</h2>
    <p>${p.description}</p>
    <h3>$${p.price}</h3>
    <button onclick="addToCart(${p.id})">
      Add To Cart
    </button>
  `;

  featuredIndex = (featuredIndex + 1) % services.length;
}
rotateFeatured();
setInterval(rotateFeatured,5000);

/* ===============================
   FLASH SALE COUNTDOWN
================================ */
let end = new Date().getTime() + 86400000;

setInterval(()=>{
  let now = new Date().getTime();
  let distance = end - now;

  let h = Math.floor((distance%(1000*60*60*24))/(1000*60*60));
  let m = Math.floor((distance%(1000*60*60))/(1000*60));
  let s = Math.floor((distance%(1000*60))/1000);

  document.getElementById("countdown").innerText =
   "Flash Sale Ends In: " + h+"h "+m+"m "+s+"s";

},1000);

</script>

</body>
  </html>
